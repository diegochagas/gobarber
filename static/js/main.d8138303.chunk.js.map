{"version":3,"sources":["assets/logo-purple.svg","pages/_layouts/auth/styles.js","pages/_layouts/auth/index.js","services/api.js","components/Notifications/styles.js","components/Notifications/index.js","components/Header/styles.js","components/Header/index.js","pages/_layouts/default/styles.js","pages/_layouts/default/index.js","store/modules/auth/reducer.js","store/modules/user/reducer.js","store/modules/rootReducer.js","services/history.js","store/modules/auth/actions.js","store/modules/auth/sagas.js","store/modules/user/actions.js","store/modules/user/sagas.js","store/modules/rootSaga.js","store/index.js","store/persistReducers.js","store/createStore.js","routes/Route.js","pages/SignIn/index.js","pages/SignUp/index.js","pages/Dashboard/styles.js","pages/Dashboard/index.js","pages/Profile/AvatarInput/styles.js","pages/Profile/AvatarInput/index.js","pages/Profile/styles.js","pages/Profile/index.js","routes/index.js","styles/global.js","App.js","index.js","assets/logo.svg"],"names":["module","exports","Wrapper","styled","div","Content","darken","AuthLayout","children","api","axios","create","baseURL","Container","Badge","button","props","hasUnread","css","NotificationList","visible","Scroll","PerfectScrollBar","Notification","lighten","unread","Notifications","useState","setVisible","notifications","setNotifications","useMemo","find","notification","read","useEffect","a","async","get","response","data","map","timeDistante","formatDistance","parseISO","createdAt","Date","addSuffix","loadNofications","onClick","color","size","key","_id","content","type","id","put","Profile","Header","profile","useSelector","state","user","src","logo","alt","to","name","avatar","url","DefaultLayout","INITIAL_STATE","token","signed","loading","combineReducers","auth","action","produce","draft","payload","history","createBrowserHistory","signInSuccess","signIn","signUp","email","password","call","post","provider","toast","error","defaults","headers","Authorization","push","all","takeLatest","updateProfileSuccess","updateProfile","avatar_id","rest","oldPassword","success","rootSaga","reducers","sagaMiddleware","createSagaMiddleware","sagaMonitor","middlewares","store","enhancer","applyMiddleware","createStore","rootReducer","persistReducer","storage","whitelist","persistor","persistStore","RouteWrapper","Component","component","isPrivate","getState","Layout","render","run","defaultProps","schema","Yup","shape","required","SignIn","dispatch","useDispatch","onSubmit","signInRequest","placeholder","min","SignUp","signUpRequest","Time","li","past","available","range","Dashboard","schedule","setSchedule","date","setDate","dateFormatted","format","params","Intl","DateTimeFormat","resolvedOptions","timeZone","hour","checkDate","setSeconds","setMinutes","setHours","compareDate","utcToZonedTime","time","isBefore","appointment","isEqual","loadSchedule","subDays","addDays","AvatarInput","useField","defaultValue","registerField","file","setFile","preview","setPreview","ref","useRef","current","path","htmlFor","accept","data-file","onChange","e","FormData","append","target","files","initialData","updateProfileRequest","Routes","exact","createGlobalStyle","App","autoClose","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d8138303.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-purple.a3c4dca3.svg\";","import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const Wrapper = styled.div`\r\n  height: 100%;\r\n  background: linear-gradient(-90deg, #7159c1, #ab59c1);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  width: 100%;\r\n  max-width: 315px;\r\n  text-align: center;\r\n\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-top: 30px;\r\n\r\n    input {\r\n      background: rgba(0, 0, 0, 0.1);\r\n      border: 0;\r\n      border-radius: 4px;\r\n      height: 44px;\r\n      padding: 0 15px;\r\n      color: #fff;\r\n      margin: 0 0 10px;\r\n\r\n      &::placeholder {\r\n        color: rgba(255, 255, 255, 0.7);\r\n      }\r\n    }\r\n\r\n    span {\r\n      color: #fb6f91;\r\n      align-self: flex-start;\r\n      margin: 0 0 10px;\r\n      font-weight: bold;\r\n    }\r\n\r\n    button {\r\n      margin: 5px 0 0;\r\n      height: 44px;\r\n      background: #3b9eff;\r\n      font-weight: bold;\r\n      color: #fff;\r\n      border: 0;\r\n      border-radius: 4px;\r\n      font-size: 16px;\r\n      transition: background 0.2s;\r\n\r\n      &:hover {\r\n        background: ${darken(0.03, '#3b9eff')};\r\n      }\r\n    }\r\n\r\n    a {\r\n      color: #fff;\r\n      margin-top: 15px;\r\n      font-size: 16px;\r\n      opacity: 0.8;\r\n\r\n      &:hover {\r\n        opacity: 1;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Wrapper, Content } from './styles';\r\n\r\nexport default function AuthLayout({ children }) {\r\n  return (\r\n    <Wrapper>\r\n      <Content>{children}</Content>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nAuthLayout.propTypes = {\r\n  children: PropTypes.element.isRequired\r\n}\r\n","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3333',\r\n});\r\n\r\nexport default api;\r\n","import styled, { css } from 'styled-components';\r\nimport PerfectScrollBar from 'react-perfect-scrollbar';\r\nimport { lighten } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nexport const Badge = styled.button`\r\n  background: none;\r\n  border: 0;\r\n  position: relative;\r\n\r\n  ${props =>\r\n    props.hasUnread &&\r\n    css`\r\n      &::after {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 0;\r\n        width: 8px;\r\n        height: 8px;\r\n        background: #ff892e;\r\n        content: '';\r\n        border-radius: 50%;\r\n      }\r\n    `}\r\n`;\r\n\r\nexport const NotificationList = styled.div`\r\n  position: absolute;\r\n  width: 260px;\r\n  left: calc(50% - 130px);\r\n  top: calc(100% + 30px);\r\n  background: rgba(0, 0, 0, 0.6);\r\n  border-radius: 4px;\r\n  padding: 15px 5px;\r\n  display: ${props => (props.visible ? 'block' : 'none')};\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    left: calc(50% - 20px);\r\n    top: -20px;\r\n    width: 0;\r\n    height: 0;\r\n    border-left: 20px solid transparent;\r\n    border-right: 20px solid transparent;\r\n    border-bottom: 20px solid rgba(0, 0, 0, 0.6);\r\n  }\r\n`;\r\n\r\nexport const Scroll = styled(PerfectScrollBar)`\r\n  max-height: 260px;\r\n  padding: 5px 15px;\r\n`;\r\n\r\nexport const Notification = styled.div`\r\n  color: white;\r\n\r\n  & + div {\r\n    margin-top: 15px;\r\n    padding-top: 15px;\r\n    border-top: 1px solid rgba(255, 255, 255, 0.1);\r\n  }\r\n\r\n  p {\r\n    font-size: 13px;\r\n    line-height: 18px;\r\n  }\r\n\r\n  time {\r\n    display: block;\r\n    font-size: 12px;\r\n    opacity: 0.6;\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  button {\r\n    font-size: 12px;\r\n    border: 0;\r\n    background: none;\r\n    color: ${lighten(0.2, '#7159c1')};\r\n  }\r\n\r\n  ${props =>\r\n    props.unread &&\r\n    css`\r\n      &::after {\r\n        content: '';\r\n        display: inline-block;\r\n        width: 8px;\r\n        height: 8px;\r\n        background: #ff892e;\r\n        border-radius: 50%;\r\n        margin-left: 10px;\r\n      }\r\n    `}\r\n`;\r\n","import React, { useState, useEffect, useMemo } from 'react';\r\nimport { MdNotifications } from 'react-icons/md';\r\nimport { parseISO, formatDistance } from 'date-fns';\r\n\r\nimport api from '~/services/api';\r\n\r\nimport {\r\n  Badge,\r\n  Container,\r\n  Notification,\r\n  NotificationList,\r\n  Scroll,\r\n} from './styles';\r\n\r\nexport default function Notifications() {\r\n  const [visible, setVisible] = useState(false);\r\n  const [notifications, setNotifications] = useState([]);\r\n\r\n  const hasUnread = useMemo(\r\n    () => notifications.find(notification => notification.read === false),\r\n    [notifications]\r\n  );\r\n\r\n  useEffect(() => {\r\n    async function loadNofications() {\r\n      const response = await api.get('notifications');\r\n\r\n      const data = response.data.map(notification => ({\r\n        ...notification,\r\n        timeDistante: formatDistance(\r\n          parseISO(notification.createdAt),\r\n          new Date(),\r\n          { addSuffix: true }\r\n        ),\r\n      }));\r\n\r\n      setNotifications(data);\r\n    }\r\n\r\n    loadNofications();\r\n  }, []);\r\n\r\n  function handleToggleVisible() {\r\n    setVisible(!visible);\r\n  }\r\n\r\n  async function handleMarkeAsRead(id) {\r\n    await api.put(`notifications/${id}`);\r\n\r\n    setNotifications(\r\n      notifications.map(notification =>\r\n        notification._id === id ? { ...notification, read: true } : notification\r\n      )\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Badge onClick={handleToggleVisible} hasUnread={hasUnread}>\r\n        <MdNotifications color=\"#7159c1\" size={20} />\r\n      </Badge>\r\n\r\n      <NotificationList visible={visible}>\r\n        <Scroll>\r\n          {notifications.map(notification => (\r\n            <Notification key={notification._id} unread={!notification.read}>\r\n              <p>{notification.content}</p>\r\n\r\n              <time>{notification.timeDistante}</time>\r\n\r\n              {!notification.read && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => handleMarkeAsRead(notification._id)}\r\n                >\r\n                  Mark as read\r\n                </button>\r\n              )}\r\n            </Notification>\r\n          ))}\r\n        </Scroll>\r\n      </NotificationList>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  background: #fff;\r\n  padding: 0 30px;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  height: 64px;\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  nav {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    img {\r\n      margin-right: 20px;\r\n      padding-right: 20px;\r\n      border-right: 1px solid #eee;\r\n    }\r\n\r\n    a {\r\n      font-weight: bold;\r\n      color: #7159c1;\r\n    }\r\n  }\r\n\r\n  aside {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nexport const Profile = styled.div`\r\n  display: flex;\r\n  margin-left: 20px;\r\n  padding-left: 20px;\r\n  border-left: 1px solid #eee;\r\n\r\n  div {\r\n    text-align: right;\r\n    margin-right: 10px;\r\n\r\n    strong {\r\n      display: block;\r\n      color: #333;\r\n    }\r\n\r\n    a {\r\n      display: block;\r\n      margin-top: 2px;\r\n      font-size: 12px;\r\n      color: #999;\r\n    }\r\n  }\r\n\r\n  img {\r\n    width: 32px;\r\n    height: 32px;\r\n    border-radius: 50%;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Notifications from '~/components/Notifications';\r\n\r\nimport logo from '~/assets/logo-purple.svg';\r\n\r\nimport { Container, Content, Profile } from './styles';\r\n\r\nexport default function Header() {\r\n  const profile = useSelector(state => state.user.profile);\r\n\r\n  return (\r\n    <Container>\r\n      <Content>\r\n        <nav>\r\n          <img src={logo} alt=\"Logo\" />\r\n\r\n          <Link to=\"/dashboard\">Dashboard</Link>\r\n        </nav>\r\n\r\n        <aside>\r\n          <Notifications />\r\n\r\n          <Profile>\r\n            <div>\r\n              <strong>{profile.name}</strong>\r\n\r\n              <Link to=\"/profile\">My profile</Link>\r\n            </div>\r\n\r\n            <img\r\n              src={\r\n                profile.avatar\r\n                  ? profile.avatar.url\r\n                  : 'https://api.adorable.io/avatars/50/abott@adorable.png'\r\n              }\r\n              alt=\"Avatar\"\r\n            />\r\n          </Profile>\r\n        </aside>\r\n      </Content>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapper = styled.div`\r\n  height: 100%;\r\n  background: linear-gradient(-90deg, #7159c1, #ab59c1);\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Header from '~/components/Header';\r\n\r\nimport { Wrapper } from './styles';\r\n\r\nexport default function DefaultLayout({ children }) {\r\n  return (\r\n    <Wrapper>\r\n      <Header />\r\n\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nDefaultLayout.propTypes = {\r\n  children: PropTypes.element.isRequired\r\n}\r\n","import produce from 'immer';\r\n\r\nconst INITIAL_STATE = {\r\n  token: null,\r\n  signed: false,\r\n  loading: false,\r\n};\r\n\r\nexport default function auth(state = INITIAL_STATE, action) {\r\n  return produce(state, draft => {\r\n    switch (action.type) {\r\n      case '@auth/SIGN_IN_REQUEST': {\r\n        draft.loading = true;\r\n\r\n        break;\r\n      }\r\n      case '@auth/SIGN_IN_SUCCESS': {\r\n        draft.token = action.payload.token;\r\n\r\n        draft.signed = true;\r\n\r\n        draft.loading = false;\r\n\r\n        break;\r\n      }\r\n      case '@auth/SIGN_FAILURE': {\r\n        draft.loading = false;\r\n\r\n        break;\r\n      }\r\n      case '@auth/SIGN_OUT': {\r\n        draft.token = null;\r\n\r\n        draft.signed = false;\r\n\r\n        break;\r\n      }\r\n      default:\r\n    }\r\n  });\r\n}\r\n","import produce from 'immer';\r\n\r\nconst INITIAL_STATE = {\r\n  profile: null,\r\n};\r\n\r\nexport default function user(state = INITIAL_STATE, action) {\r\n  return produce(state, draft => {\r\n    switch (action.type) {\r\n      case '@auth/SIGN_IN_SUCCESS': {\r\n        draft.profile = action.payload.user;\r\n\r\n        break;\r\n      }\r\n      case '@user/UPDATE_PROFILE_SUCCESS': {\r\n        draft.profile = action.payload.profile;\r\n\r\n        break;\r\n      }\r\n      case '@auth/SIGN_OUT': {\r\n        draft.profile = null;\r\n\r\n        break;\r\n      }\r\n      default:\r\n    }\r\n  });\r\n}\r\n","import { combineReducers } from 'redux';\r\n\r\nimport auth from './auth/reducer';\r\nimport user from './user/reducer';\r\n\r\nexport default combineReducers({\r\n  auth,\r\n  user,\r\n});\r\n","import { createBrowserHistory } from 'history';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nexport default history;","export function signInRequest(email, password) {\r\n  return {\r\n    type: '@auth/SIGN_IN_REQUEST',\r\n    payload: { email, password },\r\n  };\r\n}\r\n\r\nexport function signInSuccess(token, user) {\r\n  return {\r\n    type: '@auth/SIGN_IN_SUCCESS',\r\n    payload: { token, user },\r\n  };\r\n}\r\n\r\nexport function signUpRequest(name, email, password) {\r\n  return {\r\n    type: '@auth/SIGN_UP_REQUEST',\r\n    payload: { name, email, password },\r\n  };\r\n}\r\n\r\nexport function signFailure() {\r\n  return {\r\n    type: '@auth/SIGN_FAILURE',\r\n  };\r\n}\r\n\r\nexport function signOut() {\r\n  return {\r\n    type: '@auth/SIGN_OUT',\r\n  };\r\n}\r\n","import { takeLatest, call, put, all } from 'redux-saga/effects';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport history from '~/services/history';\r\nimport api from '~/services/api';\r\n\r\nimport { signInSuccess, signFailure } from './actions';\r\n\r\nexport function* signIn({ payload }) {\r\n  const { email, password } = payload;\r\n\r\n  try {\r\n    const response = yield call(api.post, 'sessions', {\r\n      email,\r\n      password,\r\n    });\r\n\r\n    const { token, user } = response.data;\r\n\r\n    if (!user.provider) {\r\n      toast.error('User is not an provider');\r\n\r\n      return;\r\n    }\r\n\r\n    api.defaults.headers.Authorization = `Bearer ${token}`;\r\n\r\n    yield put(signInSuccess(token, user));\r\n\r\n    history.push('/dashboard');\r\n  } catch (err) {\r\n    toast.error('Autentication fail, verify your fields');\r\n\r\n    yield put(signFailure());\r\n  }\r\n}\r\n\r\nexport function* signUp({ payload }) {\r\n  try {\r\n    const { name, email, password } = payload;\r\n\r\n    yield call(api.post, 'users', {\r\n      name,\r\n      email,\r\n      password,\r\n      provider: true,\r\n    });\r\n\r\n    history.push('/');\r\n  } catch (err) {\r\n    toast.error('SignUp fail, verify your fields!');\r\n\r\n    yield put(signFailure());\r\n  }\r\n}\r\n\r\nexport function setToken({ payload }) {\r\n  if (!payload) return;\r\n\r\n  const { token } = payload.auth;\r\n\r\n  if (token) {\r\n    api.defaults.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n}\r\n\r\nexport function signOut() {\r\n  history.push('/');\r\n}\r\n\r\nexport default all([\r\n  takeLatest('persist/REHYDRATE', setToken),\r\n  takeLatest('@auth/SIGN_IN_REQUEST', signIn),\r\n  takeLatest('@auth/SIGN_UP_REQUEST', signUp),\r\n  takeLatest('@auth/SIGN_OUT', signOut),\r\n]);\r\n","export function updateProfileRequest(data) {\r\n  return {\r\n    type: '@user/UPDATE_PROFILE_REQUEST',\r\n    payload: { data },\r\n  };\r\n}\r\n\r\nexport function updateProfileSuccess(profile) {\r\n  return {\r\n    type: '@user/UPDATE_PROFILE_SUCCESS',\r\n    payload: { profile },\r\n  };\r\n}\r\n\r\nexport function updateProfileFailure() {\r\n  return {\r\n    type: '@user/UPDATE_PROFILE_FAILURE',\r\n  };\r\n}\r\n","import { takeLatest, call, put, all } from 'redux-saga/effects';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport api from '~/services/api';\r\n\r\nimport { updateProfileSuccess, updateProfileFailure } from './actions';\r\n\r\nexport function* updateProfile({ payload }) {\r\n  try {\r\n    const { name, email, avatar_id, ...rest } = payload.data;\r\n\r\n    const profile = {\r\n      name,\r\n      email,\r\n      avatar_id,\r\n      ...(rest.oldPassword ? rest : {}),\r\n    };\r\n\r\n    const response = yield call(api.put, 'users', profile);\r\n\r\n    toast.success('Profile updated with success!');\r\n\r\n    yield put(updateProfileSuccess(response.data));\r\n  } catch (err) {\r\n    toast.error('Error when try to update profile, check your fields!');\r\n\r\n    yield put(updateProfileFailure());\r\n  }\r\n}\r\n\r\nexport default all([takeLatest('@user/UPDATE_PROFILE_REQUEST', updateProfile)]);\r\n","import { all } from 'redux-saga/effects';\r\n\r\nimport auth from './auth/sagas';\r\nimport user from './user/sagas';\r\n\r\nexport default function* rootSaga() {\r\n  return yield all([auth, user]);\r\n}\r\n","import { persistStore } from 'redux-persist';\r\nimport createSagaMiddleware  from 'redux-saga';\r\n\r\nimport createStore from './createStore';\r\nimport persistReducers from './persistReducers';\r\n\r\nimport rootReducer from './modules/rootReducer';\r\nimport rootSaga from './modules/rootSaga';\r\n\r\nconst sagaMonitor = process.env.NODE_ENV === 'development'\r\n  ? console.tron.createSagaMonitor()\r\n  : null;\r\n\r\nconst sagaMiddleware = createSagaMiddleware({ sagaMonitor });\r\n\r\nconst middlewares = [sagaMiddleware];\r\n\r\nconst store = createStore(persistReducers(rootReducer), middlewares);\r\nconst persistor = persistStore(store);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport { store, persistor };\r\n","import storage from 'redux-persist/lib/storage';\r\nimport { persistReducer } from 'redux-persist';\r\n\r\nexport default reducers => {\r\n  const persistedReducer = persistReducer({\r\n    key: 'gobarber',\r\n    storage,\r\n    whitelist: ['auth', 'user'],\r\n  }, reducers);\r\n\r\n  return persistedReducer;\r\n}\r\n\r\n\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\n\r\nexport default (reducers, middlewares) => {\r\n  const enhancer = process.env.NODE_ENV === 'development'\r\n    ? compose(\r\n      console.tron.createEnhancer(),\r\n      applyMiddleware(...middlewares)\r\n    )\r\n    : applyMiddleware(...middlewares);\r\n\r\n\r\n  return createStore(reducers, enhancer);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nimport AuthLayout from '../pages/_layouts/auth';\r\nimport DefaultLayout from '../pages/_layouts/default';\r\n\r\nimport { store } from '~/store';\r\n\r\nexport default function RouteWrapper({\r\n  component: Component,\r\n  isPrivate,\r\n  ...rest\r\n}) {\r\n  const { signed } = store.getState().auth;\r\n\r\n  if (!signed && isPrivate) {\r\n    return <Redirect to=\"/\" />\r\n  }\r\n\r\n  if (signed && !isPrivate) {\r\n    return <Redirect to=\"/dashboard\" />\r\n  }\r\n\r\n  const Layout = signed ? DefaultLayout : AuthLayout;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => (\r\n        <Layout>\r\n          <Component {...props} />\r\n        </Layout>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\nRouteWrapper.propTypes = {\r\n  isPrivate: PropTypes.bool,\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.func]).isRequired\r\n}\r\n\r\nRouteWrapper.defaultProps = {\r\n  isPrivate: false,\r\n}\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Input } from '@rocketseat/unform';\r\nimport * as Yup from 'yup';\r\n\r\nimport { signInRequest } from '~/store/modules/auth/actions';\r\n\r\nimport logo from '~/assets/logo.svg';\r\n\r\nconst schema = Yup.object().shape({\r\n  email: Yup.string().email('Invalid email').required('Email is required'),\r\n  password: Yup.string().required('Password is required')\r\n});\r\n\r\nexport default function SignIn() {\r\n  const dispatch = useDispatch();\r\n  const loading = useSelector(state => state.auth.loading);\r\n\r\n  function handleSubmit({ email, password }) {\r\n    dispatch(signInRequest(email, password));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <img src={logo} alt=\"GoBarber logo\" />\r\n\r\n      <Form onSubmit={handleSubmit} schema={schema}>\r\n        <Input name=\"email\" type=\"email\" placeholder=\"Your email\" />\r\n\r\n        <Input name=\"password\" type=\"password\" placeholder=\"Your secret password\" />\r\n\r\n        <button type=\"submit\">{ loading ? 'Loading...' : 'Access' }</button>\r\n\r\n        <Link to=\"/register\">Create free account</Link>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Input } from '@rocketseat/unform';\r\nimport * as Yup from 'yup';\r\n\r\nimport logo from '~/assets/logo.svg';\r\n\r\nimport { signUpRequest } from '~/store/modules/auth/actions';\r\n\r\nconst schema = Yup.object().shape({\r\n  name: Yup.string().required('Name is required'),\r\n  email: Yup.string().email('Invalid email').required('Email is required'),\r\n  password: Yup.string().min(6, 'At least 6 characters').required('Password is required')\r\n});\r\n\r\nexport default function SignUp() {\r\n  const dispatch = useDispatch();\r\n\r\n  function handleSubmit({ name, email, password }) {\r\n    dispatch(signUpRequest(name, email, password));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <img src={logo} alt=\"GoBarber logo\" />\r\n\r\n      <Form onSubmit={handleSubmit} schema={schema}>\r\n        <Input name=\"name\" type=\"text\" placeholder=\"Fullname\" />\r\n\r\n        <Input name=\"email\" type=\"email\" placeholder=\"Your email\" />\r\n\r\n        <Input name=\"password\" type=\"password\" placeholder=\"Your secret password\" />\r\n\r\n        <button type=\"submit\">Create account</button>\r\n\r\n        <Link to=\"/\">Already have an account</Link>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  max-width: 600px;\r\n  margin: 50px auto;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  header {\r\n    display: flex;\r\n    align-self: center;\r\n    align-items: center;\r\n\r\n    button {\r\n      border: 0;\r\n      background: none;\r\n    }\r\n\r\n    strong {\r\n      color: #fff;\r\n      font-size: 24px;\r\n      margin: 0 15px;\r\n    }\r\n  }\r\n\r\n  ul {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    grid-gap: 15px;\r\n    margin-top: 30px;\r\n  }\r\n`;\r\n\r\nexport const Time = styled.li`\r\n  padding: 20px;\r\n  border-radius: 4px;\r\n  background: #fff;\r\n\r\n  opacity: ${props => (props.past ? 0.6 : 1)};\r\n\r\n  strong {\r\n    display: block;\r\n    color: ${props => (props.available ? '#999' : '#7159c1')};\r\n    font-size: 20px;\r\n    font-weight: normal;\r\n  }\r\n\r\n  span {\r\n    display: block;\r\n    margin-top: 3px;\r\n    color: ${props => (props.available ? '#999' : '#666')};\r\n  }\r\n`;\r\n","import React, { useState, useMemo, useEffect } from 'react';\r\nimport {\r\n  addDays,\r\n  format,\r\n  isBefore,\r\n  isEqual,\r\n  parseISO,\r\n  setHours,\r\n  setMinutes,\r\n  setSeconds,\r\n  subDays,\r\n} from 'date-fns';\r\nimport { utcToZonedTime } from 'date-fns-tz';\r\nimport { MdChevronLeft, MdChevronRight } from 'react-icons/md';\r\n\r\nimport api from '~/services/api';\r\n\r\nimport { Container, Time } from './styles';\r\n\r\nconst range = [8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];\r\n\r\nexport default function Dashboard() {\r\n  const [schedule, setSchedule] = useState([]);\r\n  const [date, setDate] = useState(new Date());\r\n  const dateFormatted = useMemo(() => format(date, 'MMMM d'), [date]);\r\n\r\n  useEffect(() => {\r\n    async function loadSchedule() {\r\n      const response = await api.get('schedule', {\r\n        params: { date },\r\n      });\r\n\r\n      const { timeZone } = Intl.DateTimeFormat().resolvedOptions();\r\n\r\n      const data = range.map(hour => {\r\n        const checkDate = setSeconds(setMinutes(setHours(date, hour), 0), 0);\r\n\r\n        const compareDate = utcToZonedTime(checkDate, timeZone);\r\n\r\n        return {\r\n          time: `${hour}:00h`,\r\n          past: isBefore(compareDate, new Date()),\r\n          appointment: response.data.find(a =>\r\n            isEqual(parseISO(a.date), compareDate)\r\n          ),\r\n        };\r\n      });\r\n\r\n      setSchedule(data);\r\n    }\r\n\r\n    loadSchedule();\r\n  }, [date]);\r\n\r\n  function handlePrevDay() {\r\n    setDate(subDays(date, 1));\r\n  }\r\n\r\n  function handleNextDay() {\r\n    setDate(addDays(date, 1));\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <header>\r\n        <button type=\"button\" onClick={handlePrevDay}>\r\n          <MdChevronLeft size={36} color=\"#fff\" />\r\n        </button>\r\n\r\n        <strong>{dateFormatted}</strong>\r\n\r\n        <button type=\"button\" onClick={handleNextDay}>\r\n          <MdChevronRight size={36} color=\"#fff\" />\r\n        </button>\r\n      </header>\r\n\r\n      <ul>\r\n        {schedule.map(time => (\r\n          <Time key={time.time} past={time.past} available={!time.appointment}>\r\n            <strong>{time.time}</strong>\r\n\r\n            <span>\r\n              {time.appointment ? time.appointment.user.name : 'Available'}\r\n            </span>\r\n          </Time>\r\n        ))}\r\n      </ul>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  align-self: center;\r\n  margin-bottom: 30px;\r\n\r\n  label {\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      opacity: 0.7;\r\n    }\r\n\r\n    img {\r\n      height: 120px;\r\n      width: 120px;\r\n      border-radius: 50%;\r\n      border: 3px solid rgba(255, 255, 255, 0.3);\r\n      background: #eee;\r\n    }\r\n\r\n    input {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { useField } from '@rocketseat/unform';\r\n\r\nimport api from '~/services/api';\r\n\r\nimport { Container } from './styles';\r\n\r\nexport default function AvatarInput() {\r\n  const { defaultValue, registerField } = useField('avatar');\r\n\r\n  const [file, setFile] = useState(defaultValue && defaultValue.id);\r\n  const [preview, setPreview] = useState(defaultValue && defaultValue.url);\r\n\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    if (ref.current) {\r\n      registerField({\r\n        name: 'avatar_id',\r\n        ref: ref.current,\r\n        path: 'dataset.file',\r\n      });\r\n    }\r\n  }, [ref.current]); // eslint-disable-line\r\n\r\n  async function handleChange(e) {\r\n    const data = new FormData();\r\n\r\n    data.append('file', e.target.files[0]);\r\n\r\n    const response = await api.post('files', data);\r\n\r\n    const { id, url } = response.data;\r\n\r\n    setFile(id);\r\n    setPreview(url);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <label htmlFor=\"avatar\">\r\n        <img\r\n          src={\r\n            preview || 'https://api.adorable.io/avatars/150/abott@adorable.png'\r\n          }\r\n          alt=\"avatar\"\r\n        />\r\n\r\n        <input\r\n          type=\"file\"\r\n          id=\"avatar\"\r\n          accept=\"image/*\"\r\n          data-file={file}\r\n          onChange={handleChange}\r\n          ref={ref}\r\n        />\r\n      </label>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  max-width: 600px;\r\n  margin: 50px auto;\r\n\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-top: 30px;\r\n\r\n    input {\r\n      background: rgba(0, 0, 0, 0.1);\r\n      border: 0;\r\n      border-radius: 4px;\r\n      height: 44px;\r\n      padding: 0 15px;\r\n      color: #fff;\r\n      margin: 0 0 10px;\r\n\r\n      &::placeholder {\r\n        color: rgba(255, 255, 255, 0.7);\r\n      }\r\n    }\r\n\r\n    span {\r\n      color: #fb6f91;\r\n      align-self: flex-start;\r\n      margin: 0 0 10px;\r\n      font-weight: bold;\r\n    }\r\n\r\n    hr {\r\n      border: 0;\r\n      height: 1px;\r\n      background: rgba(255, 255, 255, 0.2);\r\n      margin: 10px 0 20px;\r\n    }\r\n\r\n    button {\r\n      margin: 5px 0 0;\r\n      height: 44px;\r\n      background: #3b9eff;\r\n      font-weight: bold;\r\n      color: #fff;\r\n      border: 0;\r\n      border-radius: 4px;\r\n      font-size: 16px;\r\n      transition: background 0.2s;\r\n\r\n      &:hover {\r\n        background: ${darken(0.03, '#3b9eff')};\r\n      }\r\n    }\r\n  }\r\n\r\n  > button {\r\n    width: 100%;\r\n    margin: 10px 0 0;\r\n    height: 44px;\r\n    background: #f64c75;\r\n    font-weight: bold;\r\n    color: #fff;\r\n    border: 0;\r\n    border-radius: 4px;\r\n    font-size: 16px;\r\n    transition: background 0.2s;\r\n\r\n    &:hover {\r\n      background: ${darken(0.08, '#f64c75')};\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Input } from '@rocketseat/unform';\r\n\r\nimport { signOut } from '~/store/modules/auth/actions';\r\nimport { updateProfileRequest } from '~/store/modules/user/actions';\r\n\r\nimport AvatarInput from './AvatarInput';\r\n\r\nimport { Container } from './styles';\r\n\r\nexport default function Profile() {\r\n  const dispatch = useDispatch();\r\n  const profile = useSelector(state => state.user.profile);\r\n\r\n  function handleSubmit(data) {\r\n    dispatch(updateProfileRequest(data));\r\n  }\r\n\r\n  function handleSignOut() {\r\n    dispatch(signOut());\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Form initialData={profile} onSubmit={handleSubmit}>\r\n        <AvatarInput name=\"avatar_id\" />\r\n\r\n        <Input name=\"name\" placeholder=\"Fullname\" />\r\n\r\n        <Input name=\"email\" type=\"email\" placeholder=\"Your email address\" />\r\n\r\n        <hr />\r\n\r\n        <Input\r\n          type=\"password\"\r\n          name=\"oldPassword\"\r\n          placeholder=\"Your actual password\"\r\n        />\r\n\r\n        <Input type=\"password\" name=\"password\" placeholder=\"Your password\" />\r\n\r\n        <Input\r\n          type=\"password\"\r\n          name=\"confirmPassword\"\r\n          placeholder=\"Confirm password\"\r\n        />\r\n\r\n        <button type=\"submit\">Update profile</button>\r\n      </Form>\r\n\r\n      <button type=\"button\" onClick={handleSignOut}>\r\n        Logout GoBarber\r\n      </button>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Switch } from 'react-router-dom';\r\n\r\nimport Route from './Route';\r\n\r\nimport SignIn from '~/pages/SignIn';\r\nimport SignUp from '~/pages/SignUp';\r\nimport Dashboard from '~/pages/Dashboard';\r\nimport Profile from '~/pages/Profile';\r\n\r\nexport default function Routes() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/\" exact component={SignIn} />\r\n      <Route path=\"/register\" component={SignUp} />\r\n\r\n      <Route path=\"/dashboard\" component={Dashboard} isPrivate />\r\n      <Route path=\"/profile\" component={Profile} isPrivate />\r\n\r\n      {/* <Route path=\"/\" component={() => <h1>404</h1>} /> */}\r\n    </Switch>\r\n  )\r\n}\r\n","import { createGlobalStyle } from 'styled-components';\r\n\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default createGlobalStyle`\r\n  @import url('https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap');\r\n\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    outline: 0;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  *:focus {\r\n    outline: 0;\r\n  }\r\n\r\n  html, body, #root {\r\n    height: 100%;\r\n  }\r\n\r\n  body {\r\n    -webkit-font-smoothing: antialiased;\r\n  }\r\n\r\n  body, input, button {\r\n    font: 14px 'Roboto', sans-serif;\r\n  }\r\n\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n\r\n  ul {\r\n    list-style: none;\r\n  }\r\n\r\n  button {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { Provider } from 'react-redux';\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\nimport './config/ReactotronConfig';\r\nimport Routes from './routes';\r\nimport history from './services/history';\r\n\r\nimport { store, persistor } from './store';\r\n\r\nimport GlobalStyle from './styles/global';\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <PersistGate persistor={persistor}>\r\n        <HashRouter history={history}>\r\n          <Routes />\r\n\r\n          <GlobalStyle />\r\n\r\n          <ToastContainer autoClose={3000} />\r\n        </HashRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.63c71f84.svg\";"],"sourceRoot":""}